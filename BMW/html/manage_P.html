<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <!--<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">-->
        <meta name="viewport" content="user-scalable=no,width=375">
        <title>My DMS STG</title>
     <!-- css -->
        <link rel="stylesheet" type="text/css" href="https://m.bmwdmsi.co.kr/resources/mob/css/libs/kendo/kendo.common.min.css">
        <link rel="stylesheet" type="text/css" href="https://m.bmwdmsi.co.kr/resources/mob/css/libs/kendo/kendo.mobile.all.min.css">
        <link rel="stylesheet" type="text/css" href="https://m.bmwdmsi.co.kr/resources/mob/css/libs/jquery-ui.min.css">
        <link rel="stylesheet" type="text/css" href="../resources/mob/css/style.css">
        <link rel="stylesheet" type="text/css" href="https://m.bmwdmsi.co.kr/resources/css/libs/slick.css">
        <!-- js -->
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/mob/js/jquery-3.7.1.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/jquery.blockUI.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/jquery.fileDownload.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/mob/js/kendo/kendo.all.min.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/mob/js/dms/dms.common-1.0.js?ver=1.3"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/cmm/sci/js/selectCultureSettings.do"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/mob/js/dms/jquery.ext-1.0.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/mob/js/pub-ui.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/dms/crm/crm.common.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/dms/sal/sal.common.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/slick.min.js"></script>
        <script type="text/javascript" src="https://m.bmwdmsi.co.kr/resources/js/dms/kendo.ui.ext-1.0.js"></script>
        <script src="../../resources/mob/js/jquery-ui.min.js"></script>
        <script>
            var _contextPath = "";
            $(function() {
                $("button.btn.btn-util.back").not(".btn-close-gnb").on("click", function() {
                    // window.history.back();
                    window.location.replace("/selectHome.do");
                });
            });
        </script>
    </head>

        <body>
            <!-- modal -->
            <div class="modal show">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="header-title">시승신청 내역</h1>
                        <div class="header-right">
                            <button class="btn btn-util close btn-close-modal km-widget km-button" onclick="btnCancel()" data-role="button">
                                <span class="sr-only km-text">닫기</span>
                            </button>
                        </div>
                    </div>
                    <div class="modal-body mo-body">
                        <form class="form-content">
                            <div class="form-group">
                                <div class="form-item">
                                    <label class="form-label">고객명</label>
                                    <div class="form-item-inner">
                                        <input class="form-input" type="text" placeholder="제목을 입력해주세요." />
                                    </div>
                                </div>
                                <div class="form-item">
                                    <label class="form-label">조회년월</label>
                                    <div class="form-item-inner">
                                        <div class="form-input-unit">
                                            <input class="form-input date" type="text" id="datepicker1" name="datepicker1" value="" readonly="">
                                            <span class="unit-icon date"></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-item">
                                    <label class="form-label">시승유형</label>
                                    <ul class="form-radio-tag col02">
                                        <li>
                                            <input type="radio" name="radioBtn" id="radioBtn1" class="form-radio">
                                            <label class="form-radio-label" for="radioBtn1">일반시승</label>
                                        </li>
                                        <li>
                                            <input type="radio" name="radioBtn" id="radioBtn2" class="form-radio">
                                            <label class="form-radio-label" for="radioBtn2">대차</label>
                                        </li>
                                        <li>
                                            <input type="radio" name="radioBtn" id="radioBtn3" class="form-radio">
                                            <label class="form-radio-label" for="radioBtn3">마케팅</label>
                                        </li>
                                        <li>
                                            <input type="radio" name="radioBtn" id="radioBtn4" class="form-radio">
                                            <label class="form-radio-label" for="radioBtn4">관리</label>
                                        </li>
                                    </ul>
                                </div>
                                <div class="form-item">
                                    <label class="form-label">차량번호</label>
                                    <div class="form-item-inner">
                                        <input class="form-input" type="text" placeholder="제목을 입력해주세요." />
                                        <button class="input-btn"><span class="sr-only">검색</span></button>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                    <!--하단버튼 영역-->
                    <div class="modal-footer">
                        <div class="footer-btn">
                            <button type="button" class="btn btn-secondary">초기화</button>
                            <button type="button" class="btn btn-primary">조회</button>
                        </div>
                    </div>
                </div>
            </div>

             <!-- 캘린더 팝업 -->
            <div class="modal-bottom date" id="dateModal">
                <div class="modal-content mo-body">
                    <div class="modal-header">
                        <button class="btn btn-util close white btn-close-modal-bottom" onclick="closeModal('dateModal')">
                            <span class="sr-only">닫기</span>
                        </button>
                        <h1 class="header-title">
                            <em>조회년월</em>
                            <span>조회년월을 선택해주세요</span>
                        </h1>
                    </div>
                    
                    <div class="modal-body modal-datepicker-area">
                        <div id="datepicker" class="modal-datepicker"></div>
                    </div>
                    
                    <div class="modal-footer">
                        <div class="footer-btn">
                            <button id="dateConfirmButton" class="btn-primary" disabled>확 인</button>
                        </div>
                    </div>
                </div>
            </div>


            <script>

                
        
                $(document).ready(function () { 

                    var selectedInput = null;
            
                    $(".form-input.date").on("click", function() {
                        $("#dateModal").addClass("show");
                        selectedInput = $(this);
    

                    });
            
                    $("#datepicker").datepicker({
                        dateFormat: "yy-mm-dd",
                        currentText: "오늘",
                        showButtonPanel: true,
                        monthNames: ['01월','02월','03월','04월','05월','06월','07월','08월','09월','10월','11월','12월'],
                        dayNamesMin: ["일", "월", "화", "수", "목", "금", "토"],
                        yearSuffix: '년',
                        showMonthAfterYear: true,
                        onSelect: function(dateText) {
                            if (selectedInput) {
                                selectedInput.val(dateText); 
                                $("#dateConfirmButton").prop("disabled", false);
                            }
                        },
                        onChangeMonthYear: function(year, month) {
                            const date = new Date(year, month - 1, 1);
                            setTimeout(function() {
                                $(".ui-datepicker-title").html(formatDateFull(date));
                            }, 0);
                        }
                    });
        
                    // 스크롤로 월 변경
                    $('#datepicker').on('wheel', function(event) {
                        event.preventDefault();
                        var date = $("#datepicker").datepicker("getDate") || new Date();
                        var newDate = new Date(date.getFullYear(), date.getMonth() + (event.originalEvent.deltaY < 0 ? -1 : 1), 1);
                        $('#datepicker').datepicker('setDate', newDate);
                        $(".ui-datepicker-title").html(formatDateFull(newDate));
                    });
            
                    // 날짜 확인 버튼 클릭
                    $("#dateConfirmButton").on("click", function() {
                        if (!$(this).prop("disabled")) {
                            $("#dateModal").removeClass("show");
                        }
                    });
            

                });
                function closeModal(modalId) {
                    $("#" + modalId).removeClass("show");
                }
        
            </script>
        
        </body>
</html>

